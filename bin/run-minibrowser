#!/usr/bin/env python

from build_config import ConfigHelper
from subprocess import call
import os
import sys

config_helper = ConfigHelper()
jhbuildrc = config_helper.jhbuildrc

def main(argv):
  argParser = config_helper.get_argument_parser()
  options = argParser.parse_args()
  minibrowser = os.path.join(config_helper.get_webkit_dir(options), 'bin/MiniBrowser')
  if options.url:
    url = options.url
  else:
    url = ''

  jhbuild_cmd = ["jhbuild", "-f", jhbuildrc, "run", minibrowser, url]
  call(jhbuild_cmd)

if __name__ == '__main__':
  main(sys.argv)


